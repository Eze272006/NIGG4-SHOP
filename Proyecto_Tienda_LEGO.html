<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Tienda de Juguetes Coleccionables</title>
    <meta name="description" content="Descubre ediciones limitadas y productos exclusivos de diferentes marcas y franquicias.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="Detalles_Tienda_LEGOXD.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- jQuery (opcional si se desea usar toasts) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Barra de navegación principal">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#inicio">
                <img src="Logo tienda.png" alt="Logo de la Tienda de Juguetes Coleccionables" width="80" class="me-2">
                Tienda de Juguetes Coleccionables
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Desplegar menú">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav" role="menu">
                    <li class="nav-item" role="menuitem"><a class="nav-link" href="#inicio">Inicio</a></li>
                    <li class="nav-item" role="menuitem"><a class="nav-link" href="#historia">Historia</a></li>
                    <li class="nav-item dropdown" role="menuitem">
                        <a class="nav-link dropdown-toggle" href="#productos" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Productos
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#productos-starwars">Juguetes Star Wars</a></li>
                            <li><a class="dropdown-item" href="#productos-marvel">Juguetes Marvel</a></li>
                            <li><a class="dropdown-item" href="#productos-pokemon">Juguetes Pokémon</a></li>
                        </ul>
                    </li>
                    <li class="nav-item" role="menuitem"><a class="nav-link" href="#contacto">Contacto</a></li>
                </ul>
                <!-- Ícono del carrito -->
                <div id="cart-icon" class="ms-3">
                    <a href="#carrito" class="text-white" aria-label="Ver carrito de compras">
                        <i class="fas fa-shopping-cart fa-2x"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Contenido Principal -->
    <main class="container my-5">

        <!-- Sección de inicio -->
        <section id="inicio" class="text-center d-flex align-items-center justify-content-center"
            style="min-height: 50vh; background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('Banner.png'); background-size: cover; background-position: center;">
            <div class="text-white">
                <h1 class="display-5 fw-bold">Descubre los Mejores Juguetes Coleccionables</h1>
                <p class="lead">Encuentra ediciones limitadas y productos exclusivos de diferentes marcas y franquicias.</p>
            </div>
        </section>

        <!-- Sección Historia -->
        <section id="historia" class="mt-5 text-white">
            <h2 class="text-center mb-4">Nuestra Historia</h2>
            <p>Nuestra tienda nació de la pasión por coleccionar objetos únicos, raros y llenos de significado. A lo largo de los años, hemos reunido un amplio catálogo de productos de franquicias icónicas, ediciones limitadas y piezas difíciles de encontrar.</p>
        </section>

        <!-- Catálogo Star Wars -->
        <section id="productos-starwars" class="mt-5">
            <h2 class="text-center mb-4">Juguetes Star Wars</h2>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <!-- Halcón Milenario -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="Halcon Milenario.jpg" class="card-img-top item-image" alt="Halcón Milenario - Juguete Coleccionable">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Halcón Milenario</h5>
                            <p class="card-text">Set coleccionable detallado, ideal para fans de la ciencia ficción.</p>
                            <p class="item-price text-primary"><strong>€799</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#halcon-milenario" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
                <!-- Nave del Maestro Galáctico -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="Obi Wan Nave.jpg" class="card-img-top item-image" alt="Nave del Maestro Galáctico">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Nave del Maestro Galáctico</h5>
                            <p class="card-text">Un set imprescindible para coleccionistas del universo espacial.</p>
                            <p class="item-price text-primary"><strong>€349</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#maestro-galactico" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
                <!-- Maestro Sabio -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="Yoda.jpg" class="card-img-top item-image" alt="Maestro Sabio">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Maestro Sabio</h5>
                            <p class="card-text">Una figura icónica que no puede faltar en tu colección.</p>
                            <p class="item-price text-primary"><strong>€399</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#maestro-sabio" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Catálogo Marvel -->
        <section id="productos-marvel" class="mt-5">
            <h2 class="text-center mb-4">Juguetes Marvel</h2>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <!-- Spider Man -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="Spider.png" class="card-img-top item-image" alt="Spider Man">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Spider Man</h5>
                            <p class="card-text">Set coleccionable detallado, ideal para fans de la ciencia ficción.</p>
                            <p class="item-price text-primary"><strong>€799</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#spider-man" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
                <!-- Iron Man -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="IRONman.png" class="card-img-top item-image" alt="Iron Man">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Iron Man</h5>
                            <p class="card-text">Un set imprescindible para coleccionistas del universo espacial.</p>
                            <p class="item-price text-primary"><strong>€349</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#iron-man" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
                <!-- Capitán América -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="elcap.png" class="card-img-top item-image" alt="Capitán América">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Capitán América</h5>
                            <p class="card-text">Una figura icónica que no puede faltar en tu colección.</p>
                            <p class="item-price text-primary"><strong>€399</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#capitan-america" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Catálogo Pokémon -->
        <section id="productos-pokemon" class="mt-5">
            <h2 class="text-center mb-4">Juguetes Pokémon</h2>
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <!-- Mewtwo -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="mewtu.png" class="card-img-top item-image" alt="Mewtwo">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Mewtwo</h5>
                            <p class="card-text">Set coleccionable detallado, ideal para fans de la ciencia ficción.</p>
                            <p class="item-price text-primary"><strong>€799</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#mewtwo" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
                <!-- Pikachu -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="pika.png" class="card-img-top item-image" alt="Pikachu">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Pikachu</h5>
                            <p class="card-text">Un set imprescindible para coleccionistas del universo espacial.</p>
                            <p class="item-price text-primary"><strong>€349</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#pikachu" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
                <!-- Snorlax -->
                <div class="col">
                    <div class="card item h-100">
                        <img src="snorlax.png" class="card-img-top item-image" alt="Snorlax">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title item-title">Snorlax</h5>
                            <p class="card-text">Una figura icónica que no puede faltar en tu colección.</p>
                            <p class="item-price text-primary"><strong>€399</strong></p>
                            <button class="btn addToCart mt-auto">Agregar al Carrito</button>
                            <a href="detalles.html#snorlax" target="_blank" class="btn btn-info mt-2">Ver Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Carrito de compras -->
        <section id="carrito" class="mt-5 shoppingCartContainer">
            <h2 class="text-center">Carrito de Compras</h2>
            <div class="row">
                <div class="col-12">
                    <div class="shoppingCartItemsContainer"></div>
                </div>
                <div class="col-12 text-end mt-3">
                    <h5>Total: <span class="shoppingCartTotal">0€</span></h5>
                    <button class="btn comprarButton btn-success">Comprar</button>
                </div>
            </div>
        </section>

        <!-- Formulario de contacto -->
        <section id="contacto" class="mt-5">
            <h2 class="text-center mb-4">Contáctanos</h2>
            <form>
                <div class="mb-3">
                    <label for="nombre" class="form-label">Nombre</label>
                    <input type="text" class="form-control" id="nombre" placeholder="Tu nombre">
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-control" id="email" placeholder="Tu correo">
                </div>
                <div class="mb-3">
                    <label for="mensaje" class="form-label">Mensaje</label>
                    <textarea class="form-control" id="mensaje" rows="4" placeholder="Escribe tu mensaje"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Enviar</button>
            </form>
        </section>
    </main>

    <footer class="bg-dark text-white text-center py-3">
        <p>&copy; 2024 Tienda de Juguetes Coleccionables. Todos los derechos reservados.</p>
    </footer>

    <!-- Scripts de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Código del carrito -->
    <script>
    const addToShoppingCartButtons = document.querySelectorAll('.addToCart');
    addToShoppingCartButtons.forEach((addToCartButton) => {
      addToCartButton.addEventListener('click', addToCartClicked);
    });

    const comprarButton = document.querySelector('.comprarButton');
    comprarButton.addEventListener('click', comprarButtonClicked);

    const shoppingCartItemsContainer = document.querySelector('.shoppingCartItemsContainer');

    function addToCartClicked(event) {
      const button = event.target;
      const item = button.closest('.item');

      const itemTitle = item.querySelector('.item-title').textContent;
      const itemPrice = item.querySelector('.item-price').textContent;
      const itemImage = item.querySelector('.item-image').src;

      addItemToShoppingCart(itemTitle, itemPrice, itemImage);
    }

    function addItemToShoppingCart(itemTitle, itemPrice, itemImage) {
      const elementsTitle = shoppingCartItemsContainer.getElementsByClassName('shoppingCartItemTitle');
      for (let i = 0; i < elementsTitle.length; i++) {
        if (elementsTitle[i].innerText === itemTitle) {
          let elementQuantity = elementsTitle[i].parentElement.parentElement.parentElement.querySelector('.shoppingCartItemQuantity');
          elementQuantity.value++;
          updateShoppingCartTotal();
          return;
        }
      }

      const shoppingCartRow = document.createElement('div');
      const shoppingCartContent = `
      <div class="row shoppingCartItem">
            <div class="col-6">
                <div class="shopping-cart-item d-flex align-items-center h-100 border-bottom pb-2 pt-3">
                    <img src=${itemImage} class="shopping-cart-image" style="width:50px; height:auto;">
                    <h6 class="shopping-cart-item-title shoppingCartItemTitle text-truncate ml-3 mb-0">${itemTitle}</h6>
                </div>
            </div>
            <div class="col-2">
                <div class="shopping-cart-price d-flex align-items-center h-100 border-bottom pb-2 pt-3">
                    <p class="item-price mb-0 shoppingCartItemPrice">${itemPrice}</p>
                </div>
            </div>
            <div class="col-4">
                <div
                    class="shopping-cart-quantity d-flex justify-content-between align-items-center h-100 border-bottom pb-2 pt-3">
                    <input class="shopping-cart-quantity-input shoppingCartItemQuantity" type="number"
                        value="1" min="1">
                    <button class="btn btn-danger buttonDelete" type="button">X</button>
                </div>
            </div>
        </div>`;
      shoppingCartRow.innerHTML = shoppingCartContent;
      shoppingCartItemsContainer.append(shoppingCartRow);

      shoppingCartRow.querySelector('.buttonDelete').addEventListener('click', removeShoppingCartItem);
      shoppingCartRow.querySelector('.shoppingCartItemQuantity').addEventListener('change', quantityChanged);

      updateShoppingCartTotal();
    }

    function updateShoppingCartTotal() {
      let total = 0;
      const shoppingCartTotal = document.querySelector('.shoppingCartTotal');
      const shoppingCartItems = document.querySelectorAll('.shoppingCartItem');

      shoppingCartItems.forEach((shoppingCartItem) => {
        const shoppingCartItemPriceElement = shoppingCartItem.querySelector('.shoppingCartItemPrice');
        const shoppingCartItemPrice = Number(shoppingCartItemPriceElement.textContent.replace('€', ''));
        const shoppingCartItemQuantityElement = shoppingCartItem.querySelector('.shoppingCartItemQuantity');
        const shoppingCartItemQuantity = Number(shoppingCartItemQuantityElement.value);
        total += shoppingCartItemPrice * shoppingCartItemQuantity;
      });
      shoppingCartTotal.innerHTML = `${total.toFixed(2)}€`;
      return total;
    }

    function removeShoppingCartItem(event) {
      const buttonClicked = event.target;
      buttonClicked.closest('.shoppingCartItem').remove();
      updateShoppingCartTotal();
    }

    function quantityChanged(event) {
      const input = event.target;
      if (input.value <= 0) {
        input.value = 1;
      }
      updateShoppingCartTotal();
    }

    function comprarButtonClicked() {
      const total = updateShoppingCartTotal();
      if (total > 0) {
        alert(`¡Felicidades por tu compra! El total fue: ${total.toFixed(2)}€`);
      } else {
        alert(`No hay productos en el carrito.`);
      }
      shoppingCartItemsContainer.innerHTML = '';
      updateShoppingCartTotal();
    }
    </script>
</body>
</html>
